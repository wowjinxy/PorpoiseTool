.include "macros.inc"

.section .init

.global memset
memset:
/* 80003100 00000100  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80003104 00000104  7C 08 02 A6 */	mflr r0
/* 80003108 00000108  90 01 00 14 */	stw r0, 0x14(r1)
/* 8000310C 0000010C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80003110 00000110  7C 7F 1B 78 */	mr r31, r3
/* 80003114 00000114  48 00 00 1D */	bl __fill_mem
/* 80003118 00000118  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8000311C 0000011C  7F E3 FB 78 */	mr r3, r31
/* 80003120 00000120  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80003124 00000124  7C 08 03 A6 */	mtlr r0
/* 80003128 00000128  38 21 00 10 */	addi r1, r1, 0x10
/* 8000312C 0000012C  4E 80 00 20 */	blr 

.global __fill_mem
__fill_mem:
/* 80003130 00000130  28 05 00 20 */	cmplwi r5, 0x20
/* 80003134 00000134  54 84 06 3E */	clrlwi r4, r4, 0x18
/* 80003138 00000138  38 C3 FF FF */	addi r6, r3, -1
/* 8000313C 0000013C  7C 87 23 78 */	mr r7, r4
/* 80003140 00000140  41 80 00 90 */	blt lbl_800031D0
/* 80003144 00000144  7C C0 30 F8 */	nor r0, r6, r6
/* 80003148 00000148  54 03 07 BF */	clrlwi. r3, r0, 0x1e
/* 8000314C 0000014C  41 82 00 14 */	beq lbl_80003160
/* 80003150 00000150  7C A3 28 50 */	subf r5, r3, r5
lbl_80003154:
/* 80003154 00000154  34 63 FF FF */	addic. r3, r3, -1
/* 80003158 00000158  9C E6 00 01 */	stbu r7, 1(r6)
/* 8000315C 0000015C  40 82 FF F8 */	bne lbl_80003154
lbl_80003160:
/* 80003160 00000160  28 07 00 00 */	cmplwi r7, 0
/* 80003164 00000164  41 82 00 1C */	beq lbl_80003180
/* 80003168 00000168  54 E3 C0 0E */	slwi r3, r7, 0x18
/* 8000316C 0000016C  54 E0 80 1E */	slwi r0, r7, 0x10
/* 80003170 00000170  54 E4 40 2E */	slwi r4, r7, 8
/* 80003174 00000174  7C 60 03 78 */	or r0, r3, r0
/* 80003178 00000178  7C 80 03 78 */	or r0, r4, r0
/* 8000317C 0000017C  7C E7 03 78 */	or r7, r7, r0
lbl_80003180:
/* 80003180 00000180  54 A3 D9 7F */	rlwinm. r3, r5, 0x1b, 5, 0x1f
/* 80003184 00000184  38 86 FF FD */	addi r4, r6, -3
/* 80003188 00000188  41 82 00 2C */	beq lbl_800031B4
lbl_8000318C:
/* 8000318C 0000018C  90 E4 00 04 */	stw r7, 4(r4)
/* 80003190 00000190  34 63 FF FF */	addic. r3, r3, -1
/* 80003194 00000194  90 E4 00 08 */	stw r7, 8(r4)
/* 80003198 00000198  90 E4 00 0C */	stw r7, 0xc(r4)
/* 8000319C 0000019C  90 E4 00 10 */	stw r7, 0x10(r4)
/* 800031A0 000001A0  90 E4 00 14 */	stw r7, 0x14(r4)
/* 800031A4 000001A4  90 E4 00 18 */	stw r7, 0x18(r4)
/* 800031A8 000001A8  90 E4 00 1C */	stw r7, 0x1c(r4)
/* 800031AC 000001AC  94 E4 00 20 */	stwu r7, 0x20(r4)
/* 800031B0 000001B0  40 82 FF DC */	bne lbl_8000318C
lbl_800031B4:
/* 800031B4 000001B4  54 A3 F7 7F */	rlwinm. r3, r5, 0x1e, 0x1d, 0x1f
/* 800031B8 000001B8  41 82 00 10 */	beq lbl_800031C8
lbl_800031BC:
/* 800031BC 000001BC  34 63 FF FF */	addic. r3, r3, -1
/* 800031C0 000001C0  94 E4 00 04 */	stwu r7, 4(r4)
/* 800031C4 000001C4  40 82 FF F8 */	bne lbl_800031BC
lbl_800031C8:
/* 800031C8 000001C8  38 C4 00 03 */	addi r6, r4, 3
/* 800031CC 000001CC  54 A5 07 BE */	clrlwi r5, r5, 0x1e
lbl_800031D0:
/* 800031D0 000001D0  28 05 00 00 */	cmplwi r5, 0
/* 800031D4 000001D4  4D 82 00 20 */	beqlr 
lbl_800031D8:
/* 800031D8 000001D8  34 A5 FF FF */	addic. r5, r5, -1
/* 800031DC 000001DC  9C E6 00 01 */	stbu r7, 1(r6)
/* 800031E0 000001E0  40 82 FF F8 */	bne lbl_800031D8
/* 800031E4 000001E4  4E 80 00 20 */	blr 

.global memcpy
memcpy:
/* 800031E8 000001E8  7C 04 18 40 */	cmplw r4, r3
/* 800031EC 000001EC  41 80 00 28 */	blt lbl_80003214
/* 800031F0 000001F0  38 84 FF FF */	addi r4, r4, -1
/* 800031F4 000001F4  38 C3 FF FF */	addi r6, r3, -1
/* 800031F8 000001F8  38 A5 00 01 */	addi r5, r5, 1
/* 800031FC 000001FC  48 00 00 0C */	b lbl_80003208
lbl_80003200:
/* 80003200 00000200  8C 04 00 01 */	lbzu r0, 1(r4)
/* 80003204 00000204  9C 06 00 01 */	stbu r0, 1(r6)
lbl_80003208:
/* 80003208 00000208  34 A5 FF FF */	addic. r5, r5, -1
/* 8000320C 0000020C  40 82 FF F4 */	bne lbl_80003200
/* 80003210 00000210  4E 80 00 20 */	blr 
lbl_80003214:
/* 80003214 00000214  7C 84 2A 14 */	add r4, r4, r5
/* 80003218 00000218  7C C3 2A 14 */	add r6, r3, r5
/* 8000321C 0000021C  38 A5 00 01 */	addi r5, r5, 1
/* 80003220 00000220  48 00 00 0C */	b lbl_8000322C
lbl_80003224:
/* 80003224 00000224  8C 04 FF FF */	lbzu r0, -1(r4)
/* 80003228 00000228  9C 06 FF FF */	stbu r0, -1(r6)
lbl_8000322C:
/* 8000322C 0000022C  34 A5 FF FF */	addic. r5, r5, -1
/* 80003230 00000230  40 82 FF F4 */	bne lbl_80003224
/* 80003234 00000234  4E 80 00 20 */	blr 
